(()=>{"use strict";const t=(()=>{const t=[];return{addProject:e=>(e=>{const{data:o}=e,{title:n}=o,d=t.find((t=>t.data.title===n));return d})(e)?`The project "${e.data.title}" already exist in the project list, use another name.`:t.push(e),deleteProject:e=>{const o=t.find((t=>t.data.title===e));return o?t.splice(t.indexOf(o),1):void 0},getProject:e=>t.find((t=>t.data.title===e))||Error("Project not founded"),getAllProjects:()=>t}})(),e=()=>{const t=document.getElementById("main-content"),e=document.createElement("section");e.innerHTML='\n      <table class="todo-table">\n        <thead class="todo-table__head">\n          <tr class="todo-table__row todo-table__row--head">\n            <th class="todo-table__th">Task</th>\n            <th class="todo-table__th">description</th>\n          </tr>\n        </thead>\n        <tbody class="todo-table__body">\n          <tr class="todo-table__row todo-table__row--todo">\n          </tr>  \n          </tbody>\n          \n          <tfoot class="todo-table__footer">\n            <tr class="todo-table__row todo-table__row--add-todo">\n\n              <td class="todo-table__td todo-table__td--footer" colspan="2">\n                <button class="btn todo-table__btn" data-action="new todo">Add Todo</button>\n              </td>\n            </tr>  \n            \n          </tfoot>\n      </table>\n    ',e.classList.add("todo-section"),t.appendChild(e)},o=(()=>{const o=o=>{const n=document.getElementById("main-content");let d={};d=o?{...o.data}:{...t.getAllProjects()[0].data};const{title:a,description:c}=d;n.dataset.project=a;const l=`\n      <h1> ${a}</h1>\n      <p> ${c}</p>\n    `;n.innerHTML=l,e()};return{load:e=>{const n=document.createElement("section");n.classList.add("main-content"),n.id="main-content",e.appendChild(n),0===t.getAllProjects().length?n.innerHTML="\n      <h1> There's not any project yet!!! </h1>\n      <p> Create a Project in the button you'll see above </p>\n    ":o()},loadContent:o}})(),n=(()=>{const t='\n      <label for="project-title">Project Title</label>\n      <input type="text" id="project-title">\n      <label for="project-description">Description</label>\n      <input type="text" id="project-description">\n      \n      \n      <button data-action="add project">Add Project</button>\n      <section class="modal__error-message" id="modal__error-message"></section>\n      ',e='\n      <label for="todo-name">Project Title</label>\n      <input type="text" id="todo-name">\n      <label for="todo-description">Description</label>\n      <textarea id="todo-description" name="" id="" cols="30" rows="10"></textarea>\n      \n      \n      <button data-action="add todo">Add Todo</button>\n      <section class="modal__error-message" id="modal__error-message"></section>\n    ',o=()=>{const t=document.getElementById("main-container"),e=document.createElement("section");e.classList.add("modal-container"),e.id="modal-container",t.appendChild(e)};return{newProject:()=>{o();const e=document.getElementById("modal-container"),n=document.createElement("section");n.classList.add("modal"),n.innerHTML=t,e.appendChild(n)},showMessage:{error:(t="")=>{document.getElementById("modal__error-message").innerText=`The project ${t} already exist!! Use another name for it`},fillAllFields:()=>{document.getElementById("modal__error-message").innerText="You need to fill all the fields to continue"}},destroyModal:()=>{document.getElementById("modal-container").remove()},newTodo:()=>{o();const t=document.getElementById("modal-container"),n=document.createElement("section");n.classList.add("modal"),n.innerHTML=e,t.appendChild(n)}}})(),d=t=>{const e=document.getElementById("main-nav__projects"),o=document.createDocumentFragment();for(const e of t){const{data:t}=e,n=document.createElement("button");n.dataset.action="open project",n.dataset.projectName=t.title,n.innerText=t.title,o.appendChild(n)}e.innerHTML="",e.appendChild(o)},a=t=>{const e=document.createElement("nav");e.classList.add("main-nav"),e.innerHTML=' \n      <section class="main-nav__projects" id="main-nav__projects"></section>\n      <section class="main-nav__new-project">\n        <button data-action="new project">Create a new project</button>\n      </section>\n    ',t.appendChild(e)},c=(t={title:"",description:""})=>({changeProp:(e,o)=>t[e]=o,todoList:(()=>{const t=[];return{todos:t,addTodo:(e={})=>(e=>{const o=e.data.title,n=t.find((t=>t.data.title===o));return n})(e)?console.log(`Your todo "${e.data.title}" is already in list, please edit the existing task`):t.push(e),deleteTodo:e=>{const o=t.find((t=>t.data.title===e));o&&t.splice(t.indexOf(o),1)},getTodo:e=>t.find((t=>t.data.title===e))||"Todo not founded",showTodos:()=>console.log(t)}})(),data:t}),l=(s,{"new project":()=>n.newProject(),"add project":()=>(()=>{const e=document.getElementById("project-title").value,a=document.getElementById("project-description").value,l=c({title:e,description:a}),r=t.getAllProjects(),s=r.find((t=>t.data.title===e));return""==e||""==a?n.showMessage.fillAllFields():s?n.showMessage.error(e):(t.addProject(l),o.loadContent(l),d(r),void n.destroyModal())})(),"open project":e=>(e=>{const n=e.target.dataset.projectName,d=t.getProject(n);if(d instanceof Error)return console.log("project not founded");o.loadContent(d)})(e),"new todo":()=>n.newTodo(),"add todo":()=>(()=>{const e=document.getElementById("todo-name").value,o=document.getElementById("todo-description").value,n=document.getElementById("main-content").dataset.project;t.getProject(n),console.log({todoTitle:e,todoDescription:o,projectName:n})})(),"open todo":()=>"create a td for the todo table"}),r=t=>{const e=document.createElement("Footer");e.classList.add("main-footer"),e.innerHTML=" <h1>I'm a Footer</h1> ",t.appendChild(e)},i=t=>{const e=document.createElement("header");e.classList.add("main-header"),e.innerHTML=' <h1 class="title"  >I\'m a header</h1> ',t.appendChild(e)},m=document.getElementById("main-container"),p=()=>{i(m),a(m),o.load(m),r(m)},u=document.getElementById("main-container");document.addEventListener("load",p()),u.addEventListener("pointerdown",(t=>{const e=t.target.dataset.action,o=l;if(e)return o[e]?void o[e](t):console.log("Action not founded")}))})();